{% load static %}

<div id="passwordModal" class="modal">
  <div class="modal-content">
      <h3>Change Password</h3>

      <!-- Step 1: Choose Method -->
      <div id="stepChoice">
          <button type="button" id="btnRememberChoice" class="modal-btn">I remember old password</button>
          <button type="button" id="btnForgotChoice" class="modal-btn">I forgot old password</button>
      </div>

      <!-- Step 2: Verify Old Password -->
      <form id="stepVerifyOld" style="display: none;">
          <label>Current Password</label>
          <input type="password" id="verifyOldPwInput" class="form-control mb-2">
          <div id="verifyOldError" class="text-danger small mb-2"></div>
          <button type="button" id="btnSubmitVerifyOld" class="modal-btn-alt">Verify</button>
          <button type="button" id="btnBackToChoice1" class="modal-btn-alt">← Back</button>
      </form>

      <!-- Step 2: Security Questions (Alternative Verification) -->
      <form id="stepSecurity" style="display: none;">
          <div id="securityQuestions">
              <label>What was your childhood pet's name?</label>
              <input type="text" class="form-control mb-2">
              <!-- Additional questions can be added dynamically -->
          </div>
          <div id="securityError" class="text-danger small mb-2"></div>
          <button type="button" id="btnSubmitSecurity" class="modal-btn-alt">Verify</button>
          <button type="button" id="btnBackToChoice2" class="modal-btn-alt">← Back</button>
      </form>

      <!-- Step 3: Set New Password -->
      <form id="stepNewPassword" style="display: none;">
          <label>New Password</label>
          <input type="password" name="new_password1" id="inputNewPw1" class="form-control mb-2">
          <label>Confirm New Password</label>
          <input type="password" name="new_password2" id="inputNewPw2" class="form-control mb-2">
          <div id="pwMatchError" class="text-danger small mb-2"></div>
          <button type="submit" class="modal-btn-alt">Update Password</button>
          <button type="button" id="btnBackToVerify" class="modal-btn-alt">← Back</button>
      </form>
  </div>
</div>